<!DOCTYPE html>
<html lang="pt-br" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Manuten√ß√£o (Vers√£o Completa)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {                    
                }
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Bibliotecas de Exporta√ß√£o -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200">

    <div id="app">
        <!-- TELA DE LOGIN -->
        <div id="login-screen" class="flex flex-col items-center justify-center min-h-screen text-white p-4">
            <div class="text-center mb-8">
                <h1 id="login-greeting" class="text-5xl font-bold"></h1>
                <p id="login-clock" class="font-bold tracking-wider mt-2"></p>
            </div>
            <div class="w-full max-w-sm bg-white/10 backdrop-blur-sm p-8 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-bold text-center mb-6">Aceder ao Painel</h2>
                <form id="login-form">
                    <div class="mb-4"><label for="email" class="block mb-2 text-sm">Email</label><input type="email" id="email" class="form-input bg-gray-200 text-gray-800" required></div>
                    <div class="mb-6"><label for="password" class="block mb-2 text-sm">Senha</label><input type="password" id="password" class="form-input bg-gray-200 text-gray-800" required></div>
                    <p id="auth-error" class="text-red-400 text-center text-sm mb-4 h-5"></p>
                    <button type="submit" id="btn-login" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition">Entrar</button>
                    <button type="button" id="btn-show-test-info" class="w-full mt-3 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 rounded-lg transition">Credenciais de Teste</button>
                    <button type="button" id="btn-test-mode" class="w-full mt-3 bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-2 rounded-lg transition">Entrar em Modo de Teste (Sem Salvar)</button>
                </form>
                 <div id="test-credentials" class="hidden mt-4 p-3 bg-white/20 rounded-lg text-sm">
                    <p class="font-bold mb-2">Use os dados abaixo para o login real:</p>
                    <div class="flex items-center justify-between">
                        <span>Email: <code id="test-email">teste123@email.com</code></span>
                        <span class="copy-btn" title="Copiar" onclick="copyToClipboard('teste123@email.com')"><i data-lucide="copy" class="w-4 h-4"></i></span>
                    </div>
                    <div class="flex items-center justify-between mt-1">
                        <span>Senha: <code id="test-password">teste123</code></span>
                        <span class="copy-btn" title="Copiar" onclick="copyToClipboard('teste123')"><i data-lucide="copy" class="w-4 h-4"></i></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTAINER DO DASHBOARD -->
        <div id="dashboard-container" class="hidden h-screen">
            <div class="flex h-full">
                <div id="sidebar-overlay" class="sidebar-overlay" onclick="document.getElementById('sidebar').classList.remove('active'); this.classList.remove('active');"></div>
                <aside id="sidebar" class="sidebar w-full h-full fixed inset-0 flex flex-col items-center justify-center text-white z-40">
                    <div class="sidebar-header text-3xl font-bold mb-8">MENU PRINCIPAL</div>
                    <div id="sidebar-main-actions" class="grid grid-cols-4 gap-6 max-w-4xl mx-auto px-4">
                        <div class="sidebar-button-container">
                            <button id="btn-settings" class="sidebar-button btn-disabled" disabled>
                                <i data-lucide="settings" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Configura√ß√µes</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-edit" class="sidebar-button btn-disabled" disabled>
                                <i data-lucide="edit" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Editar Ano</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-compare-years" class="sidebar-button">
                                <i data-lucide="bar-chart-3" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Comparar Anos</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-pareto-analysis" class="sidebar-button">
                                <i data-lucide="pie-chart" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">An√°lise Pareto</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-roi-analysis" class="sidebar-button">
                                <i data-lucide="trending-up" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">An√°lise ROI</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-benchmarking" class="sidebar-button">
                                <i data-lucide="target" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Benchmarking</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-trends" class="sidebar-button">
                                <i data-lucide="activity" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Tend√™ncias</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-export" class="sidebar-button">
                                <i data-lucide="download" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Exportar</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-import" class="sidebar-button">
                                <i data-lucide="upload" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Importar</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-notifications" class="sidebar-button">
                                <i data-lucide="bell" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Notifica√ß√µes</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-reports" class="sidebar-button">
                                <i data-lucide="file-text" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Relat√≥rios</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-analytics" class="sidebar-button">
                                <i data-lucide="bar-chart-2" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Analytics</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-db" class="sidebar-button">
                                <i data-lucide="database" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Base de Dados</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-refresh" class="sidebar-button">
                                <i data-lucide="refresh-cw" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Atualizar</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-toggle-dark-mode" class="sidebar-button">
                                <i data-lucide="moon" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Tema</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-start-tour" class="sidebar-button">
                                <i data-lucide="play-circle" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Tour</span>
                        </div>
                        <div class="sidebar-button-container">
                            <button id="btn-help" class="sidebar-button">
                                <i data-lucide="help-circle" class="w-8 h-8 mb-2"></i>
                            </button>
                            <span class="sidebar-button-label">Ajuda</span>
                        </div>
                    </div>
                    <button id="sidebar-close" class="absolute top-8 right-8 p-3 rounded-lg bg-red-600 hover:bg-red-700 transition">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </aside>
                <main class="flex-1 flex flex-col relative">
                    <div id="test-mode-banner" class="hidden bg-yellow-400 text-black text-center p-2 font-semibold">
                        Modo de Teste: Nenhuma altera√ß√£o ser√° salva.
                    </div>
                    <div id="loading-overlay" class="absolute inset-0 bg-white bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75 z-50 flex items-center justify-center hidden">
                        <div class="loader"></div>
                    </div>
                    
                    <header class="bg-[#4a55a2] dark:bg-gray-800/90 text-white p-4 flex flex-col md:flex-row md:items-center justify-between gap-4">
                        <button id="sidebar-toggle" class="p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2">
                            <i data-lucide="menu"></i>
                            <span class="hidden md:inline">Menu</span>
                        </button>
                        <div id="header-info" class="text-center md:text-left">
                            <h1 class="text-xl font-bold" id="header-greeting"></h1>
                            <p class="text-sm text-indigo-200 dark:text-gray-400" id="header-datetime"></p>
                        </div>
                        <div id="header-buttons" class="flex items-center gap-2 flex-wrap justify-center md:justify-end">
                            <button id="btn-add-year" class="bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 transition flex items-center gap-2"><i data-lucide="plus-circle"></i>Adicionar</button>
                            <button id="btn-alerts" class="relative bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-semibold py-2 px-3 rounded-lg transition flex items-center gap-2" title="Notifica√ß√µes">
                                <i data-lucide="bell"></i>
                                <span id="alerts-badge" class="absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full px-1.5 py-0.5 hidden">0</span>
                            </button>
                            <!-- Overlay e popover centralizado -->
                            <div id="alerts-overlay" class="hidden fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center">
                                <div id="alerts-popover" class="w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 text-gray-800 dark:text-gray-100" onclick="event.stopPropagation()">
                                    <div class="font-bold mb-2">Notifica√ß√µes</div>
                                    <div id="alerts-list" class="space-y-2 text-sm"></div>
                                </div>
                            </div>
                            <button id="btn-logout" class="bg-red-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-700 transition flex items-center gap-2"><i data-lucide="log-out"></i>Sair</button>
                        </div>
                    </header>
                    <div id="test-mode-banner" class="hidden bg-yellow-400 text-black text-center p-2 font-semibold">
                        Modo de Teste: Nenhuma altera√ß√£o ser√° salva.
                    </div>
                    <div id="loading-overlay" class="absolute inset-0 bg-white bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-75 z-50 flex items-center justify-center hidden"><div class="loader"></div></div>
                    

                    <div id="dashboard-content" class="bg-[#4a55a2] dark:bg-gray-900 flex-1 p-6 overflow-y-auto">
                        <div id="no-data-message" class="hidden text-center text-white bg-indigo-800/50 dark:bg-gray-800/50 p-10 rounded-lg">
                             <h2 class="text-3xl font-bold mb-4">Bem-vindo ao seu Painel!</h2>
                             <p class="text-lg mb-6">Nenhum dado foi encontrado. Comece por adicionar as informa√ß√µes do seu primeiro ano.</p>
                             <button id="btn-add-first-year" class="bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700 transition text-lg flex items-center gap-2 mx-auto"><i data-lucide="plus-circle"></i>Adicionar Dados do Primeiro Ano</button>
                        </div>
                        <div id="kpi-grids-container" class="hidden">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-2xl font-bold text-white">VIS√ÉO GERAL DO PAINEL</h2>
                                <div id="year-selector-container" class="flex items-center space-x-2">
                                    <label for="year-select" class="text-white">Escolha o ano:</label>
                                    <select id="year-select" class="bg-white dark:bg-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"></select>
                                </div>
                            </div>
                             <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-6">
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium">Corretivas</h3><p id="kpi-corretivas" class="text-4xl font-bold mt-2">0</p></div>
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium">Preventivas</h3><p id="kpi-preventivas" class="text-4xl font-bold mt-2">0</p></div>
                                <div class="card bg-yellow-100 dark:bg-yellow-900/50"><h3 class="text-yellow-800 dark:text-yellow-300 font-medium">Preventivas a Vencer</h3><p id="kpi-preventivas-vencer" class="text-4xl font-bold mt-2 text-yellow-900 dark:text-yellow-200">0</p></div>
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium">Preditivas</h3><p id="kpi-preditivas" class="text-4xl font-bold mt-2">0</p></div>
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium">Melhorias</h3><p id="kpi-melhorias" class="text-4xl font-bold mt-2">0</p></div>
                            </div>
                             <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium">Equipamentos Instalados</h3><div class="flex items-center justify-between mt-2"><i data-lucide="wrench" class="w-12 h-12 text-blue-500"></i><p id="kpi-equipamentos" class="text-5xl font-bold">0</p></div></div>
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium">O.S Cadastradas</h3><div class="flex items-center justify-between mt-2"><i data-lucide="clipboard-list" class="w-12 h-12 text-green-500"></i><p id="kpi-os-cadastradas" class="text-5xl font-bold">0</p></div></div>
                                <div class="card bg-green-500 text-white"><h3 class="font-medium">Custo Total</h3><p id="kpi-custo-total" class="text-4xl font-bold mt-2">R$ 0,00</p></div>
                            </div>
                            <div id="charts-row-1" class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium mb-4">MTTR Trimestral</h3><div class="h-64"><canvas id="mttrChart"></canvas></div><div class="mt-4 text-center"><p id="mttr-target" class="text-gray-500 dark:text-gray-400">Target: 0</p></div></div>
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium mb-4">MTBF Mensal</h3><div class="h-64"><canvas id="mtbfChart"></canvas></div><div class="mt-4 text-center"><p id="mtbf-target" class="text-gray-500 dark:text-gray-400">Target: 0</p></div></div>
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium mb-4">DISPONIBILIDADE</h3><div class="h-64 relative"><canvas id="availabilityChart"></canvas></div><div class="mt-4 text-center"><p id="disponibilidade-target" class="text-gray-500 dark:text-gray-400">Target: 0%</p></div></div>
                            </div>
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium mb-4">Custos Mensais de Manuten√ß√£o</h3><div class="h-64"><canvas id="monthlyCostsChart"></canvas></div></div>
                                <div class="card"><h3 class="text-gray-500 dark:text-gray-400 font-medium mb-4">O.S Corretivas Mensais</h3><div class="h-64"><canvas id="monthlyCorrectivesChart"></canvas></div></div>
                            </div>
                            <!-- Bot√µes de Exporta√ß√£o -->
                            <div id="export-buttons-container" class="mt-8 flex justify-center items-center gap-4">
                                <button id="btn-export-pdf" class="bg-red-500 text-white font-semibold py-2 px-5 rounded-lg hover:bg-red-600 transition flex items-center gap-2"><i data-lucide="file-down"></i>Exportar para PDF</button>
                                <button id="btn-export-xlsx" class="bg-green-500 text-white font-semibold py-2 px-5 rounded-lg hover:bg-green-600 transition flex items-center gap-2"><i data-lucide="file-spreadsheet"></i>Exportar para XLSX</button>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>
    
    <!-- ELEMENTOS DO TOUR -->
    <div id="tour-tooltip-container" class="hidden fixed inset-0 z-[99] pointer-events-none">
        <div id="tour-tooltip" class="absolute bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 p-4 rounded-lg shadow-xl w-80 transition-all duration-300 ease-in-out pointer-events-auto">
            <h3 id="tour-title" class="text-lg font-bold mb-2"></h3>
            <p id="tour-description" class="text-sm"></p>
            <div class="flex justify-between items-center mt-4">
                <button id="tour-skip" class="text-sm text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white">Pular Tour</button>
                <div>
                    <button id="tour-prev" class="bg-gray-300 dark:bg-gray-600 px-3 py-1 rounded-md text-sm mr-2 hover:bg-gray-400 dark:hover:bg-gray-500">Anterior</button>
                    <button id="tour-next" class="bg-blue-600 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-700">Pr√≥ximo</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="helpModal" class="modal-overlay hidden"><div class="modal-content dark:bg-gray-800"><h2 class="text-xl font-bold mb-4">Ajuda</h2><p>Este √© um painel de vis√£o geral dos KPIs de manuten√ß√£o. Use os bot√µes para navegar, atualizar e gerir os dados.</p><p class="mt-4 text-sm text-gray-600 dark:text-gray-400">Desenvolvido por Jonathan da Silva Oliveira, desenvolvedor do projeto Manuten√ß√£o Industrial Arquivos.</p><button class="btn-close-modal mt-4 bg-blue-500 text-white px-4 py-2 rounded" data-modal-id="helpModal">Fechar</button></div></div>
    <div id="settingsModal" class="modal-overlay hidden"><div class="modal-content dark:bg-gray-800"><form id="settings-form"><h2 class="text-2xl font-bold mb-4">Configura√ß√µes</h2><div class="space-y-4"><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 border-b dark:border-gray-600 pb-2">Perfil do Utilizador</h3><div><label for="settings-user-name" class="block text-sm font-medium">Seu Nome</label><input type="text" id="settings-user-name" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" placeholder="Como quer ser chamado?"></div><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mt-6 border-b dark:border-gray-600 pb-2">Metas para o ano <span id="settings-year-title" class="font-bold"></span></h3><div><label for="settings-mttr-target" class="block text-sm font-medium">Meta MTTR</label><input type="number" step="0.1" id="settings-mttr-target" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><div><label for="settings-mtbf-target" class="block text-sm font-medium">Meta MTBF</label><input type="number" step="0.1" id="settings-mtbf-target" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><div><label for="settings-disponibilidade-target" class="block text-sm font-medium">Meta Disponibilidade (%)</label><input type="number" step="0.1" id="settings-disponibilidade-target" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div></div><div class="flex justify-end space-x-3 mt-8"><button type="button" class="btn-close-modal bg-gray-300 dark:bg-gray-600 px-4 py-2 rounded-lg" data-modal-id="settingsModal">Cancelar</button><button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg">Salvar</button></div></form></div></div>
    <div id="dbModal" class="modal-overlay hidden"><div class="modal-content dark:bg-gray-800"><h2 class="text-2xl font-bold mb-4">Base de Dados</h2><div id="db-table-container"></div><div class="flex justify-end mt-8"><button type="button" class="btn-close-modal bg-blue-500 text-white px-4 py-2 rounded" data-modal-id="dbModal">Fechar</button></div></div></div>
    <div id="compareYearsModal" class="modal-overlay hidden"><div class="modal-content dark:bg-gray-800"><h2 class="text-2xl font-bold mb-4">Comparar Anos</h2><div id="compare-years-selection" class="grid grid-cols-4 gap-4 mb-6"></div><div style="height: 400px;"><canvas id="comparisonChart"></canvas></div><div class="flex justify-end space-x-3 mt-8"><button type="button" class="btn-close-modal bg-gray-300 dark:bg-gray-600 px-4 py-2 rounded-lg" data-modal-id="compareYearsModal">Fechar</button><button type="button" id="btn-generate-comparison" class="bg-purple-600 text-white px-4 py-2 rounded-lg">Gerar</button></div></div></div>

    <div id="addYearModal" class="modal-overlay hidden"><div class="modal-content dark:bg-gray-800"><form id="add-year-form"><h2 class="text-2xl font-bold mb-4">Adicionar Novos Dados Anuais</h2><div class="mb-4"><label for="add-year-input" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Ano</label><input type="number" id="add-year-input" placeholder="Ex: 2025" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3 border-b dark:border-gray-600 pb-2">Indicadores Principais (KPIs)</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Preventivas</label><input type="number" id="add-preventivas" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" value="0" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Preventivas a Vencer</label><input type="number" id="add-preventivas-vencer" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" value="0" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Preditivas</label><input type="number" id="add-preditivas" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" value="0" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Melhorias</label><input type="number" id="add-melhorias" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" value="0" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Equipamentos Instalados</label><input type="number" id="add-equipamentos" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" value="0" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">O.S Cadastradas</label><input type="number" id="add-os-cadastradas" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" value="0" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Disponibilidade (%)</label><input type="number" step="0.1" id="add-disponibilidade" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" value="90" required></div></div><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3 border-b dark:border-gray-600 pb-2">Dados Mensais</h3><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Custos Mensais (R$)</label><div class="grid grid-cols-6 gap-2 mt-1"><input type="number" step="0.01" placeholder="Jan" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Fev" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Mar" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Abr" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Mai" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Jun" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Jul" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Ago" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Set" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Out" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Nov" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" step="0.01" placeholder="Dez" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required></div></div><div class="mt-4"><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">O.S Corretivas Mensais</label><div class="grid grid-cols-6 gap-2 mt-1"><input type="number" placeholder="Jan" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Fev" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Mar" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Abr" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Mai" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Jun" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Jul" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Ago" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Set" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Out" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Nov" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required><input type="number" placeholder="Dez" class="form-input form-input-small dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" value="0" required></div></div><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3 border-b dark:border-gray-600 pb-2">Dados dos Gr√°ficos Trimestrais/Anuais</h3><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">MTTR (3 valores)</label><input type="text" id="add-chart-mttr" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" value="0, 0, 0" required><p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Insira os 3 valores trimestrais, separados por v√≠rgula.</p></div><div class="mt-4"><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">MTBF (12 valores)</label><input type="text" id="add-chart-mtbf" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" value="0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0" required><p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Insira os 12 valores mensais, separados por v√≠rgula.</p></div><div class="flex justify-end space-x-3 mt-8"><button type="button" class="btn-close-modal bg-gray-300 dark:bg-gray-600 px-4 py-2 rounded-lg" data-modal-id="addYearModal">Cancelar</button><button type="submit" id="save-new-year-btn" class="bg-green-600 text-white px-4 py-2 rounded-lg">Criar Ano</button></div></form></div></div>
    <div id="editDataModal" class="modal-overlay hidden"><div class="modal-content dark:bg-gray-800"><form id="edit-form"><h2 class="text-2xl font-bold mb-4">Editar Dados de <span id="edit-year-title"></span></h2><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3 border-b dark:border-gray-600 pb-2">Indicadores Principais (KPIs)</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Preventivas</label><input type="number" id="edit-preventivas" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Preventivas a Vencer</label><input type="number" id="edit-preventivas-vencer" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Preditivas</label><input type="number" id="edit-preditivas" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Melhorias</label><input type="number" id="edit-melhorias" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Equipamentos Instalados</label><input type="number" id="edit-equipamentos" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">O.S Cadastradas</label><input type="number" id="edit-os-cadastradas" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Disponibilidade (%)</label><input type="number" step="0.1" id="edit-disponibilidade" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div></div><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3 border-b dark:border-gray-600 pb-2">Dados Mensais</h3><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Custos Mensais (R$)</label><div id="edit-custos-mensais-container" class="grid grid-cols-6 gap-2 mt-1"></div></div><div class="mt-4"><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">O.S Corretivas Mensais</label><div id="edit-corretivas-mensais-container" class="grid grid-cols-6 gap-2 mt-1"></div></div><h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mt-6 mb-3 border-b dark:border-gray-600 pb-2">Dados dos Gr√°ficos Trimestrais/Anuais</h3><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">MTTR (3 valores)</label><input type="text" id="edit-chart-mttr" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><div class="mt-4"><label class="block text-sm font-medium text-gray-700 dark:text-gray-300">MTBF (12 valores)</label><input type="text" id="edit-chart-mtbf" class="form-input dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 mt-1" required></div><div class="flex justify-end space-x-3 mt-8"><button type="button" class="btn-close-modal bg-gray-300 dark:bg-gray-600 px-4 py-2 rounded-lg" data-modal-id="editDataModal">Cancelar</button><button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg">Salvar Altera√ß√µes</button></div></form></div></div>

    <!-- Modal de An√°lise de Pareto -->
    <div id="paretoModal" class="modal-overlay hidden"><div class="modal-content dark:bg-gray-800"><h2 class="text-2xl font-bold mb-4">üìä An√°lise de Pareto - Causas de Falhas</h2><div class="mb-6"><p class="text-sm text-gray-600 dark:text-gray-400">Identifique os 20% das causas que resultam em 80% dos problemas</p></div><div style="height: 400px; margin-bottom: 2rem;"><canvas id="paretoChart"></canvas></div><div class="overflow-x-auto"><table class="w-full border-collapse border border-gray-300 dark:border-gray-600"><thead><tr class="bg-gray-100 dark:bg-gray-700"><th class="border border-gray-300 dark:border-gray-600 px-4 py-2">Causa</th><th class="border border-gray-300 dark:border-gray-600 px-4 py-2">Quantidade</th><th class="border border-gray-300 dark:border-gray-600 px-4 py-2">% Individual</th><th class="border border-gray-300 dark:border-gray-600 px-4 py-2">% Acumulado</th></tr></thead><tbody id="pareto-table-body"></tbody></table></div><div class="flex justify-end mt-8"><button type="button" class="btn-close-modal bg-blue-500 text-white px-4 py-2 rounded" data-modal-id="paretoModal">Fechar</button></div></div></div>

    <!-- Modal de An√°lise de ROI -->
    <div id="roiModal" class="modal-overlay hidden"><div class="modal-content dark:bg-gray-800"><h2 class="text-2xl font-bold mb-4">üí∞ An√°lise de ROI - Manuten√ß√£o Preditiva</h2><div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"><div class="bg-blue-100 dark:bg-blue-900 p-4 rounded-lg"><h4 class="font-semibold text-blue-800 dark:text-blue-200">Investimento</h4><p class="text-2xl font-bold text-blue-600 dark:text-blue-300" id="roi-investimento">-</p></div><div class="bg-green-100 dark:bg-green-900 p-4 rounded-lg"><h4 class="font-semibold text-green-800 dark:text-green-200">Economia Anual</h4><p class="text-2xl font-bold text-green-600 dark:text-green-300" id="roi-economia">-</p></div><div class="bg-purple-100 dark:bg-purple-900 p-4 rounded-lg"><h4 class="font-semibold text-purple-800 dark:text-purple-200">ROI</h4><p class="text-2xl font-bold text-purple-600 dark:text-purple-300" id="roi-percentual">-</p></div><div class="bg-orange-100 dark:bg-orange-900 p-4 rounded-lg"><h4 class="font-semibold text-orange-800 dark:text-orange-200">Payback</h4><p class="text-2xl font-bold text-orange-600 dark:text-orange-300" id="roi-payback">-</p></div></div><div style="height: 400px;"><canvas id="roiChart"></canvas></div><div class="flex justify-end mt-8"><button type="button" class="btn-close-modal bg-blue-500 text-white px-4 py-2 rounded" data-modal-id="roiModal">Fechar</button></div></div></div>

    <!-- Modal de Benchmarking -->
    <div id="benchmarkModal" class="modal-overlay hidden"><div class="modal-content dark:bg-gray-800"><h2 class="text-2xl font-bold mb-4">üéØ Benchmarking da Ind√∫stria</h2><div class="mb-6"><p class="text-sm text-gray-600 dark:text-gray-400">Compare seus indicadores com padr√µes da ind√∫stria</p></div><div style="height: 300px; margin-bottom: 2rem;"><canvas id="benchmarkChart"></canvas></div><div class="overflow-x-auto"><table class="w-full border-collapse border border-gray-300 dark:border-gray-600"><thead><tr class="bg-gray-100 dark:bg-gray-700"><th class="border border-gray-300 dark:border-gray-600 px-4 py-2">M√©trica</th><th class="border border-gray-300 dark:border-gray-600 px-4 py-2">Atual</th><th class="border border-gray-300 dark:border-gray-600 px-4 py-2">Benchmark</th><th class="border border-gray-300 dark:border-gray-600 px-4 py-2">Classe Mundial</th><th class="border border-gray-300 dark:border-gray-600 px-4 py-2">Status</th><th class="border border-gray-300 dark:border-gray-600 px-4 py-2">Gap</th></tr></thead><tbody id="benchmark-table-body"></tbody></table></div><div class="flex justify-end mt-8"><button type="button" class="btn-close-modal bg-blue-500 text-white px-4 py-2 rounded" data-modal-id="benchmarkModal">Fechar</button></div></div></div>

    <!-- Modal de An√°lise de Tend√™ncias -->
    <div id="trendsModal" class="modal-overlay hidden"><div class="modal-content dark:bg-gray-800"><h2 class="text-2xl font-bold mb-4">üìà An√°lise de Tend√™ncias e Proje√ß√µes</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"><div class="bg-red-100 dark:bg-red-900 p-4 rounded-lg"><h4 class="font-semibold text-red-800 dark:text-red-200">Tend√™ncia de Custos</h4><p class="text-2xl font-bold text-red-600 dark:text-red-300" id="trends-custo">-</p></div><div class="bg-yellow-100 dark:bg-yellow-900 p-4 rounded-lg"><h4 class="font-semibold text-yellow-800 dark:text-yellow-200">Tend√™ncia de Corretivas</h4><p class="text-2xl font-bold text-yellow-600 dark:text-yellow-300" id="trends-corretivas">-</p></div></div><div style="height: 400px;"><canvas id="trendsChart"></canvas></div><div class="mt-4"><p class="text-sm text-gray-600 dark:text-gray-400">* Proje√ß√£o baseada em tend√™ncia linear dos √∫ltimos 12 meses</p></div><div class="flex justify-end mt-8"><button type="button" class="btn-close-modal bg-blue-500 text-white px-4 py-2 rounded" data-modal-id="trendsModal">Fechar</button></div></div></div>

    
    <script type="module" src="script.js"></script>

</body>
</html>
